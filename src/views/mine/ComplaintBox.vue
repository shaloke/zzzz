<script setup lang="ts">
import { ref, computed } from "vue";
import IconMail from "~icons/app/mail.svg";
import IconStar from "~icons/app/star.svg";
const rate = ref<number>(0);
const rateColors = ref(["#99A9BF", "#F7BA2A", "#FF9900"]);
const msgText = ref<string>("");
const rateText = computed(() => {
  if (rate.value === 0) {
    return "æ¬¢è¿è¯„åˆ†";
  } else if (rate.value === 1) {
    return "çœŸçš„åªæœ‰1åˆ†å—ğŸ˜±";
  } else if (rate.value === 2) {
    return "è¿˜èƒ½å†é«˜ä¸€ç‚¹å—ğŸ‘€";
  } else if (rate.value === 3) {
    return "æˆ‘ä»¬ä¼šå†æ¥å†å‰âœŠ";
  } else if (rate.value === 4) {
    return "æ„Ÿè°¢æ‚¨å¯¹æˆ‘ä»¬çš„è®¤å¯ğŸ˜€";
  } else if (rate.value === 5) {
    return "è°¢è°¢ä½ ç»™äºˆæˆ‘ä»¬å¦‚æ­¤é«˜çš„è¯„ä»·ğŸ«°";
  }
});
/**
 * æäº¤è¯„ä»·å’Œæ„è§å‡½æ•°
 */
const submitInfo = () => {
  const params = {
    score: rate.value,
    msg: msgText.value,
  };
  alert(params);
};
</script>

<template>
  <div ref="complaintbox" class="complaintbox">
    <div class="complaintbox-banner1">
      <v-banner
        lines="two"
        :icon="IconStar"
        color="deep-purple-accent-4"
        class="my-4"
      >
        <v-banner-text
          >å¦‚æœä½ è§‰å¾—è‡ªåŠ©ä¸­è½¬å¯¹ä½ æä¾›äº†å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬çš„è½¯ä»¶æ‰“ä¸ªåˆ†å§ï¼</v-banner-text
        >
      </v-banner>
      <div class="complaintbox-rate">
        <span>{{ rateText }}</span>
        <el-rate v-model="rate" :colors="rateColors" :max="5" />
      </div>
    </div>
    <div class="complaintbox-banner2">
      <v-banner lines="two" :icon="IconMail" color="#337ecc" class="my-4">
        <v-banner-text>
          å¦‚æœä½ è§‰å¾—æˆ‘ä»¬çš„è½¯ä»¶æœ‰å“ªäº›ä¸è¶³çš„åœ°æ–¹ï¼Œä¹Ÿæ¬¢è¿ç•™ä¸‹ä½ çš„å»ºè®®ï¼Œæˆ‘ä»¬ä¼šæŒç»­æ”¹è¿›ï¼
        </v-banner-text>
      </v-banner>
      <v-textarea
        label="å†™ä¸‹ä½ çš„å»ºè®®"
        bg-color="#5f9aa220"
        v-model="msgText"
      ></v-textarea>
    </div>
    <v-btn
      color="rgb(95, 154, 162)"
      class="complaintbox-submit"
      @click="submitInfo"
    >
      æäº¤
    </v-btn>
  </div>
</template>

<style scoped lang="scss">
.complaintbox {
  position: relative;
  &-rate {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
  &-submit {
    position: absolute;
    right: 1rem;
  }
}
</style>
